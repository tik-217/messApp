(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[626],{7918:function(e,t,n){Promise.resolve().then(n.t.bind(n,7718,23)),Promise.resolve().then(n.bind(n,4143))},4531:function(e,t,n){"use strict";let r=(0,n(5236).ZF)({apiKey:"AIzaSyBc3QqyCMr9f3qs8JAXnD1Y9XVKRwHhTbE",authDomain:"messapp-8196c.firebaseapp.com",projectId:"messapp-8196c",storageBucket:"messapp-8196c.appspot.com",messagingSenderId:"623695759792",appId:"1:623695759792:web:2be2766b2c922d0ea42e75"});t.Z=r},5654:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437),o=n(4848),i=n.n(o);function s(e){let{type:t,placeholder:n,name:o,errorType:s,touched:a,value:l,onBlur:c,handleChange:u}=e;return(0,r.jsxs)("section",{className:i().formItemSection,children:[(0,r.jsx)("input",{id:o,name:o,type:t,placeholder:n,onBlur:c,onChange:u,value:l,className:i().formItemSection__item}),(0,r.jsx)("span",{className:i().formItemSection__errorText,children:a&&s?(0,r.jsx)("div",{children:s}):null})]})}},9150:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(7437),o=n(1415),i=n.n(o);function s(e){let{btnText:t,btnColor:n}=e,o={};return o="gradient"===n?{backgroundImage:"linear-gradient(90deg, #0069e5 0%, #00ddeb 100%)",backgroundClip:"text",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}:"solid"===n?{color:"#0069E5"}:{color:"#EC6446"},(0,r.jsx)("button",{type:"submit",className:i().btnMainAction,style:o,children:t})}},3646:function(e,t,n){"use strict";function r(e){for(let t in e)e[t]=e[t].trim()}n.d(t,{r:function(){return r}})},5702:function(e,t,n){"use strict";n.d(t,{ZP:function(){return i},wt:function(){return o}});let r=(0,n(6862).oM)({name:"formSlice",initialState:{isLoading:!1},reducers:{setIsLoading(e,t){e.isLoading=t.payload}}}),{setIsLoading:o}=r.actions;var i=r.reducer},4143:function(e,t,n){"use strict";n.d(t,{default:function(){return v}});var r=n(7437),o=n(7138),i=n(9381),s=n(5654),a=n(5356),l=n.n(a);function c(e){let{errors:t,value:n,touched:o,onBlur:i,handleChange:a}=e;return(0,r.jsxs)("div",{className:l().formInputs,children:[(0,r.jsx)(s.Z,{type:"text",placeholder:"Email или телефон",name:"emailOrPhone",errorType:t.emailOrPhone,touched:o.emailOrPhone,value:n.emailOrPhone,onBlur:i,handleChange:a}),(0,r.jsx)(s.Z,{type:"password",placeholder:"Пароль",name:"password",errorType:t.password,touched:o.password,value:n.password,onBlur:i,handleChange:a})]})}var u=n(9150),m=n(4245);let d=()=>{let e=m.Ry({emailOrPhone:m.Z_().trim().required("Поле обязательно для заполнения").test("email_or_phone","Email или телефон некорректны",e=>t(e)||n(parseInt(null!=e?e:"0")))}),t=e=>m.Z_().email().isValidSync(e),n=e=>m.Rx().integer().positive().test(e=>{let t=new RegExp(/^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/);return!!(e&&t.test(e.toString()))}).isValidSync(e);return e};var _=n(3517),f=n.n(_),p=n(3646),h=n(5735),g=n(4531),x=n(1444);let b=x.I0.withTypes(),I=x.v9.withTypes();var S=n(5702);function v(){let e=(0,h.v0)(g.Z),t=I(e=>e.formState.isLoading),n=b(),s=(0,i.TA)({initialValues:{emailOrPhone:"",password:""},validationSchema:d,onSubmit:t=>{(0,p.r)(t),n((0,S.wt)(!0)),(0,h.e5)(e,t.emailOrPhone,t.password).then(e=>{e.user}).catch(e=>{let t=e.code,n=e.message;console.log(t),console.log(n)}).finally(()=>{n((0,S.wt)(!1))}),(0,h.Aj)(e,e=>{e&&e.uid})}});return(0,r.jsx)(r.Fragment,{children:t?(0,r.jsx)(r.Fragment,{children:"...Loading"}):(0,r.jsxs)("form",{className:f().form,onSubmit:s.handleSubmit,children:[(0,r.jsx)(c,{errors:s.errors,touched:s.touched,value:s.values,onBlur:s.handleBlur,handleChange:s.handleChange}),(0,r.jsx)(u.Z,{btnText:"Войти",btnColor:"gradient"}),(0,r.jsxs)("div",{className:f().formBtns,children:[(0,r.jsx)(o.default,{href:"/registration",className:f().formBtns__item,children:(0,r.jsx)(u.Z,{btnText:"Регистрация",btnColor:"solid"})}),(0,r.jsx)(o.default,{href:"/",className:f().formBtns__item,children:(0,r.jsx)(u.Z,{btnText:"Забыли пароль?",btnColor:"solid"})})]})]})})}},4848:function(e){e.exports={formItemSection:"AuthInput_formItemSection__HC80E",formItemSection__item:"AuthInput_formItemSection__item__BMg8S",formItemSection__errorText:"AuthInput_formItemSection__errorText__l_Atb"}},1415:function(e){e.exports={btnMainAction:"BtnMainAction_btnMainAction__UwxiA"}},5356:function(e){e.exports={formInputs:"LoginInputsList_formInputs__f_im5"}},7718:function(e){e.exports={login:"Login_login__GqMfY",login__title:"Login_login__title__56CiO"}},3517:function(e){e.exports={form:"Login_form__Dckle",formBtns:"Login_formBtns__NCIY_",formBtns__item:"Login_formBtns__item__uSMkH"}}},function(e){e.O(0,[543,208,156,562,971,23,744],function(){return e(e.s=7918)}),_N_E=e.O()}]);